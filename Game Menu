#include <iostream>
#include <iomanip>
#include <fstream>
using namespace std;

char displayMenu();

int main()
{
    int x = ' ';
    while (x != '6')
    {
        system("CLS");
        x = displayMenu();
    }
}

void run(int x)
{
    if (x == 1)
    {
        system("CLS");
        cout << "Easy Mode. Are You Ready?" << endl;
    }
    else if (x == 2)
    {
        system("CLS");
        cout << "Hard Mode. Are You Ready?" << endl;
    }
    else if (x == 3)
    {
        system("CLS");
        cout << "Expert Mode. Are You Ready?" << endl;
    }
    else if (x == 4)
    {
        system("CLS");
        cout << "Highscore Menu!" << endl;
        ofstream foutid;
        foutid.open("scorerid.txt", fstream::app);
        if (foutid.is_open()) {
            foutid << endl << 2;
        }
        foutid.close();

        ofstream fouts;
        fouts.open("scores.txt", fstream::app);
        if (fouts.is_open()) {
            fouts << endl << 15;
        }
        fouts.close();
        int i = 0, m = 0, n = 0, ID, highscore, max = -99999;
        int id[10000];
        ifstream finid;
        finid.open("scorerid.txt");
        while (!finid.eof())
        {
            finid >> id[n];
            n++;
        }
        finid.close();
        int scores[10000];
        fstream fins;
        fins.open("scores.txt");
        while (!fins.eof())
        {
            fins >> scores[m];
            m++;
        }
        fins.close();
        int size = sizeof(id) / sizeof(id[0]);
        int largest;
        cout << left << fixed;
        cout << setw(20) << "Position" << setw(20) << "ID" << "Top scores\n";
        for (int a = 1; a <= 5; a++) {
            //storing first array element as largest value
            int x = 0;
            largest = scores[0];
            for (int i = 0; i < size; i++) {
                if (largest < scores[i]) {
                    largest = scores[i];
                    x = i;
                }
            }
            cout << setw(20) << a << setw(20) << id[x] << largest << endl;
            std::copy(id + (x + 1), id + (size - 1), id + x);
            std::copy(scores + (x + 1), scores + (size - 1), scores + x);
        }
    }
    else if (x == 5)
    {
        system("CLS");
        cout << "Return To Lobby?" << endl;

    }
    else
    {
        cout << "Incorrect Selection. Try Again." << endl;
    }
    system("pause");
}

char displayMenu()
{
    int x = ' ';
    cout << "Select Your Difficulty" << endl;
    cout << "1. Easy " << endl;
    cout << "2. Hard " << endl;
    cout << "3. Expert " << endl;
    cout << "4. Highscores" << endl;
    cout << "5. Return To Login" << endl;
    cin >> x;
    run(x);
    return x;
}
